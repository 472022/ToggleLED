<html>
    <head>
        <title>Aditya</title>
        <link rel="stylesheet" href="style.css">
        
    </head>
    <body>
        
        <div class="wrapper" id="refresh">
        <div class="col_3"></div>

        <div class="col_3">
            <h1 style="text-align: center;">The status of the LED is: </h1>

            <div class="col_3"></div>

            <div class="col_3" style="text-align: center;">
                <form id="LED" enctype="multipart/form-data">
                    <input type="submit" value="led1" class="sub" id="one">
                </form>
                <form id="" enctype="multipart/form-data">
                    <input type="submit" value="led2" class="sub" id="second">
                </form>
                <form id="" enctype="multipart/form-data">
                    <input type="submit" value="led3" class="sub" id="third">
                </form>
                <form id="" enctype="multipart/form-data">
                    <input type="submit" value="led4" class="sub" id="fourth">
                </form>

                <br>
                <br>

                <div class="led_img">
                    <img id="img" src="" width="100%" height="100%">
                </div>
            </div>

            <div class="col_3"></div>
        </div>

        <div class="col_3"></div>
    </div>
        <script type="module">
               
               //database start
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
            import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";
  
  
            const firebaseConfig = {
                apiKey: "AIzaSyBhX5zaz_G_2QiwEGUJjELZ5Up3Qy3OA-k",
                authDomain: "state-ba790.firebaseapp.com",
                databaseURL: "https://state-ba790-default-rtdb.asia-southeast1.firebasedatabase.app",
                projectId: "state-ba790",
                storageBucket: "state-ba790.appspot.com",
                messagingSenderId: "412656893395",
                appId: "1:412656893395:web:f34fcfaf922247bbc54326"
            };

  
            const app = initializeApp(firebaseConfig);

   
             const db = getDatabase(app);
            //databse end
             
            //button1
            let isLedOn = false; 

            document.getElementById("one").addEventListener('click', function(e){
                e.preventDefault();
                
                
                const newStatus = isLedOn ? "off" : "on";
                
                set(ref(db, 'LED_STATUS'), {
                    LED_STATUS: newStatus
                });

                
                isLedOn = !isLedOn;
                if(newStatus=="on"){document.getElementById("img").src = "onled.jpg";}
                else{document.getElementById("img").src = "offled.jpg";}
                alert("Toggle LED Status to: " + newStatus);
            });

            //button2

            let isLedOn2 = false; 

            document.getElementById("second").addEventListener('click', function(e){
                e.preventDefault();
                
                
                const newStatus2 = isLedOn2 ? "off" : "on";
                
                set(ref(db, 'led2'), {
                    led2: newStatus2
                });

                
                isLedOn2 = !isLedOn2;
                if(newStatus2=="on"){document.getElementById("img").src = "onled.jpg";}
                else{document.getElementById("img").src = "offled.jpg";}
                alert("Toggle LED Status to: " + newStatus2);
            });


            //button 3 
            

            let isLedOn3 = false; 

            document.getElementById("third").addEventListener('click', function(e){
                e.preventDefault();
                
                
                const newStatus3 = isLedOn3 ? "off" : "on";
                
                set(ref(db, 'led3'), {
                    led3: newStatus3
                });

                
                isLedOn3 = !isLedOn3;
                if(newStatus3=="on"){document.getElementById("img").src = "onled.jpg";}
                else{document.getElementById("img").src = "offled.jpg";}
                alert("Toggle LED Status to: " + newStatus3);
            });

            //button 4
            

            let isLedOn4 = false; 

            document.getElementById("fourth").addEventListener('click', function(e){
                e.preventDefault();
                
                
                const newStatus4 = isLedOn4 ? "off" : "on";
                
                set(ref(db, 'led4'), {
                    led3: newStatus4
                });

                
                isLedOn4 = !isLedOn4;
                if(newStatus4=="on"){document.getElementById("img").src = "onled.jpg";}
                else{document.getElementById("img").src = "offled.jpg";}
                alert("Toggle LED Status to: " + newStatus4);
            });

        </script>
    </body>
</html>